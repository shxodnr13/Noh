import java.awt.BorderLayout;
import java.awt.Button;
import java.awt.GridLayout;
import java.awt.List;
import java.awt.Panel;
import java.awt.TextField;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.net.Socket;
import java.io.InputStream;
import java.io.InputStreamReader;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;
class WaitingRoom extends JFrame implements ActionListener, MouseListener{
	
	List list1, list2;
	JTextField tf1;
	JButton b;
	Socket s;
	BufferedWriter bw;
	BufferedReader br;
	String id;
	Room room;
	WaitingRoom(String id)
	{
		super(id +"Welcome");
		this.id = id;
		
		list1 = new List();
		list2 = new List();
		tf1 = new JTextField();
		b= new JButton("Create a room");
		b.addActionListener(this);
		
		list1.addActionListener(this);
	    JPanel p1 = new JPanel();
		p1.setLayout(new GridLayout(1, 2));
		JPanel p2 = new JPanel();
		p2.setLayout(new BorderLayout());
		
		p1.add(list1);
		p1.add(list2);
		
		p2.add(tf1);
		p2.add(b, "East");
		
		add(p1);
		add(p2, "South");
	}
	
	void stop() throws IOException {
		s.close();
	}
	
	void initNet() throws Exception {
		s = new Socket("localhost", 8888);
		InputStream is = s.getInputStream();
		OutputStream os = s.getOutputStream();
		InputStreamReader isr = new InputStreamReader(is);
		br = new BufferedReader(isr);
		
		OutputStreamWriter osw = new OutputStreamWriter(os);
		bw = new BufferedWriter(osw);
		
		sendMsg("enter/" + id);
	}
	@Override
	public void actionPerformed(ActionEvent arg0) {
		// TODO Auto-generated method stub
	try {
		setVisible(false);
	} catch (Exception e) {
		// TODO: handle exception
	}	
	}
	
	@Override
	public void mouseClicked(MouseEvent arg0) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void mouseEntered(MouseEvent arg0) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void mouseExited(MouseEvent arg0) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void mousePressed(MouseEvent arg0) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void mouseReleased(MouseEvent arg0) {
		// TODO Auto-generated method stub
		
	}
	

}
